## Тестовое задание


Необходимо реализовать сервис сокращения URL. Сервис должен предоставлять API со следующими функциями:
1. Создание короткой ссылки по URL. В БД должно фиксироваться время создания ссылки и пользователь, который инициировал сокращение URL. Пользователь должен определяться по токену, передаваемому в headers. Гости(запросы без токена в headers) не могут создавать короткие ссылки. CRUD для пользователей и токенов реализовывать не нужно. Считается, что в рамках тестового задания 2-3 пользователя и их токены будут занесены в таблицу(коллекцию) вручную. Структура БД для пользователей и токенов относится к заданию и ожидается в виде миграции.
2. Выдача статистики - получение количества созданных коротких ссылок, сгруппированных по заданному пользователю и/или дате.
3. Переход по короткой ссылке. При переходе по короткой ссылке должен происходить редирект на полный URL. Данный редирект должен быть доступен также для гостей (запросов без токена в headers).
   
Особенности реализации:
- Ожидаем увидеть PHP 7.4 и какие-то фичи из этой версии в коде 
- Symfony 5
- Желательно MongoDB
  
Любые другие технические аспекты задания остаются на усмотрение кандидата


## Решение

Довольно сильно всё упростил, не подключал доктрину и компоненты аутентификации/авторизации, валидации.
Не успел завернуть ошибки в json. Не писал тестов.

```shell
docker-copose -f docker/docker-compose.yaml up -d
```

Токены можно подглядеть в docker/mongo/docker-entrypoint-initdb.d/02_insertUsers.js.

## Примеры запросов

```shell
curl -X POST 'http://localhost' \
-H 'Authorization: Bearer foobarbaz' \
-d '{
  "url": "http://example.com"
}'
```

```shell
curl 'http://localhost/?user=606a715d1b31ccae9fa78cdc'
```

```shell
curl 'http://localhost/?date=2021-04-05'
```
